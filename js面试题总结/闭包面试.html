<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<script type="text/javascript">
			//代码片段一
			var name = "The Window";
			var object = {
				name: "My Object",
				getNameFunc: function() {
					return this.name;
					return function() {
						return this.name;
					};
				}
			};
			console.log(object.getNameFunc()); 

			//代码片段二
			var name2 = "The Window";
			var object2 = {
				name2: "My Object",
				getNameFunc: function() {
					var that = this;
					return function() {
						return that.name2;
					};
				}
			};
			console.log(object2.getNameFunc()()); 

			//代码片段三

			function fun(n, o) {
				console.log(o)
				return {
					fun: function(m) {
						return fun(m, n)
					}
				}
			}

			var a = fun(0) 
			a.fun(1)
			a.fun(2) 
			a.fun(3) 

			var b = fun(0).fun(1).fun(2).fun(3) 

			var c = fun(0).fun(1) 
			c.fun(2) 
			c.fun(3) 

			//代码片段四
			function Foo() {
				getName = function() {
					alert(1);
				};
				return this;
			}
			Foo.getName = function() {
				alert(2);
			};
			Foo.prototype.getName = function() {
				alert(3);
			};
			var getName = function() {
				alert(4);
			};

			function getName() {
				alert(5);
			}
			//请写出以下输出结果：
			Foo.getName();
			getName();
			Foo().getName();
			getName();
			new Foo.getName();
			new Foo().getName();
			new new Foo().getName();
			
			//代码片段五
			var Counter = (function() {
				var privateCounter = 0;
			
				function changeBy(val) {
					privateCounter += val;
				}
				return {
					increment: function() {
						changeBy(1);
					},
					decrement: function() {
						changeBy(-1);
					},
					value: function() {
						return privateCounter;
					}
				}
			})();
			console.log(Counter.value()); //
			Counter.increment();//
			Counter.increment();//
			console.log(Counter.value());//
			Counter.decrement();//
			console.log(Counter.value()); //
			
			//代码片段六
			var makeCounter = function() {
				var privateCounter = 0;
				function changeBy(val) {
					privateCounter += val;
				}
				return {
					increment: function() {
						changeBy(1);
					},
					decrement: function() {
						changeBy(-1);
					},
					value: function() {
						return privateCounter;
					}
				}
			};
			var Counter1 = makeCounter();//
			var Counter2 = makeCounter();//
			console.log(Counter1.value());//
			Counter1.increment();//
			Counter1.increment();//
			console.log(Counter1.value());//
			Counter1.decrement();//
			console.log(Counter1.value());//
			console.log(Counter2.value());//
		</script>
	</body>

</html>
